{"version":3,"sources":["webpack:///src/app/home/home-routing.module.ts","webpack:///src/app/home/home.page.html","webpack:///src/app/home/home.module.ts","webpack:///src/app/home/home.page.scss","webpack:///src/app/home/home.page.ts"],"names":["routes","path","component","HomePageRoutingModule","imports","forChild","exports","HomePageModule","providers","declarations","HomePage","formBuilder","auth","router","toastController","AppService","childEvent","submitted","errorMessages","password","type","message","email","loginForm","group","required","minLength","create","duration","toast","present","localStorage","getItem","uses","JSON","parse","console","log","role","stringSubject","next","token","navigate","get","valid","login","value","subscribe","response","status","presentToast","selector","template"],"mappings":"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","file":"home-home-module-es5.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { HomePage } from './home.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: HomePage,\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class HomePageRoutingModule {}\r\n","export default \"<ion-content>\\r\\n    <div class=\\\"ion-text-center\\\">\\r\\n        <img class=\\\"img1\\\" src=\\\"assets/img/opticals.jpg\\\">\\r\\n        <p>Blue Vision</p>\\r\\n\\r\\n    </div>\\r\\n    <div class=\\\"container\\\">\\r\\n        <div class=\\\"form ion-text-center\\\">\\r\\n            <h2 [style.color]=\\\"'#43b8ed'\\\">Sign in</h2>\\r\\n\\r\\n\\r\\n            <form [formGroup]=\\\"loginForm\\\" (ngSubmit)=\\\"submit()\\\">\\r\\n\\r\\n                <!--     <ion-item lines='none'>\\r\\n                    <ion-input inputmode=\\\"text\\\" formControlName=\\\"name\\\"></ion-input>\\r\\n                </ion-item>\\r\\n\\r\\n\\r\\n                <div *ngFor=\\\"let error of errorMessages.name\\\">\\r\\n                    <p [ngStyle]=\\\"{'color': 'red','font-size':'10px' }\\\"> {{error.type | json}} </p>\\r\\n                    <p [ngStyle]=\\\"{'color': 'red','font-size':'10px' }\\\"> {{(name.dirty || name.touched)}} </p>\\r\\n                    <ng-container *ngIf=\\\"name.hasError(error.type) && (name.dirty || name.touched)\\\">\\r\\n                        <small class=\\\"error-message\\\" [ngStyle]=\\\"{'color': 'red'}\\\">{{error.message}}</small>\\r\\n                    </ng-container>\\r\\n                </div> -->\\r\\n\\r\\n                <ion-item>\\r\\n                    <ion-label position=\\\"floating\\\">Email</ion-label>\\r\\n                    <ion-input inputmode=\\\"email\\\" formControlName=\\\"email\\\"></ion-input>\\r\\n                </ion-item>\\r\\n                <div *ngFor=\\\"let error of errorMessages.email\\\">\\r\\n                    <ng-container *ngIf=\\\"email.hasError(error.type) && (email.dirty || email.touched)\\\">\\r\\n                        <small class=\\\"error-message\\\" [ngStyle]=\\\"{'color': 'red'}\\\">{{error.message}}</small>\\r\\n                    </ng-container>\\r\\n                </div>\\r\\n                <ion-item>\\r\\n                    <ion-label position=\\\"floating\\\">Password</ion-label>\\r\\n                    <ion-input type=\\\"password\\\" formControlName=\\\"password\\\"></ion-input>\\r\\n                </ion-item>\\r\\n                <div *ngFor=\\\"let error of errorMessages.password\\\">\\r\\n                    <ng-container *ngIf=\\\"password.hasError(error.type) && (password.dirty || password.touched)\\\">\\r\\n                        <small class=\\\"error-message\\\" [ngStyle]=\\\"{'color': 'red'}\\\">{{error.message}}</small>\\r\\n                    </ng-container>\\r\\n                </div>\\r\\n\\r\\n                <!-- <ion-item lines='none'>\\r\\n                    <ion-input placeholder='Password'></ion-input>\\r\\n                </ion-item> -->\\r\\n                <ion-grid>\\r\\n                    <ion-row>\\r\\n                        <ion-col>\\r\\n                            <ion-button [disabled]=\\\"!loginForm.valid\\\" type=\\\"submit\\\" expand=\\\"round\\\">SIGN IN</ion-button>\\r\\n                        </ion-col>\\r\\n                    </ion-row>\\r\\n                    <ion-row>\\r\\n                        <!--  <ion-col size=6>\\r\\n                            <ion-button [disabled]=\\\"!loginForm.valid\\\" type=\\\"submit\\\" shape=\\\"round\\\">SIGN IN</ion-button>\\r\\n                        </ion-col> -->\\r\\n                        <!--   <ion-col size=6>\\r\\n                            <ion-button shape=\\\"round\\\" (click)=\\\"gotoHome()\\\">SIGN UP</ion-button>\\r\\n                        </ion-col> -->\\r\\n                    </ion-row>\\r\\n                </ion-grid>\\r\\n            </form>\\r\\n\\r\\n\\r\\n        </div>\\r\\n    </div>\\r\\n</ion-content>\";","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { IonicModule } from '@ionic/angular';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { HomePage } from './home.page';\r\nimport { AuthProvider } from '../providers/auth';\r\nimport { HttpClientModule } from '@angular/common/http';\r\n\r\n\r\n\r\nimport { HomePageRoutingModule } from './home-routing.module';\r\n\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    ReactiveFormsModule,\r\n    HomePageRoutingModule,\r\n    HttpClientModule\r\n  ], providers: [AuthProvider],\r\n  declarations: [HomePage]\r\n})\r\nexport class HomePageModule { }\r\n","export default \"* {\\n  font-family: lato;\\n}\\n\\nion-content {\\n  --background: linear-gradient( 135deg, #52E5E7 10%, #130CB7 100%);\\n}\\n\\n@keyframes slide-in-bottom {\\n  0% {\\n    transform: translateY(1000px);\\n    opacity: 0;\\n  }\\n  100% {\\n    transform: translateY(0);\\n    opacity: 1;\\n  }\\n}\\n\\n.container {\\n  animation: slide-in-bottom 0.5s cubic-bezier(0.25, 0.46, 0.45, 0.94) both;\\n  min-height: 300px;\\n  width: 100%;\\n  background-color: white;\\n  bottom: 0;\\n  position: absolute;\\n  border-top-left-radius: 20px;\\n  border-top-right-radius: 20px;\\n}\\n\\n.img1 {\\n  margin-top: 80px;\\n  width: 80px;\\n  height: 80px;\\n  border-radius: 50%;\\n}\\n\\np {\\n  color: #fff;\\n  text-align: center;\\n  font-size: 35px;\\n}\\n\\nion-button {\\n  --background: linear-gradient( 135deg, #52E5E7 10%, #130CB7 100%);\\n  margin-top: 30px;\\n  font-size: 18px;\\n}\\n\\n.form {\\n  padding: 10px;\\n}\\n\\n.form ion-item {\\n  border-style: solid;\\n  border-radius: 10px;\\n  border-width: 2px;\\n  border-color: grey;\\n  margin-top: 20px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uXFwuLlxcLi5cXGhvbWUucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFJO0VBQ0ksaUJBQUE7QUFDUjs7QUFFSTtFQUNJLGlFQUFBO0FBQ1I7O0FBZUk7RUFDSTtJQUVJLDZCQUFBO0lBQ0EsVUFBQTtFQUFWO0VBRU07SUFFSSx3QkFBQTtJQUNBLFVBQUE7RUFBVjtBQUNGOztBQUdJO0VBRUkseUVBQUE7RUFDQSxpQkFBQTtFQUNBLFdBQUE7RUFDQSx1QkFBQTtFQUNBLFNBQUE7RUFDQSxrQkFBQTtFQUNBLDRCQUFBO0VBQ0EsNkJBQUE7QUFEUjs7QUFJSTtFQUNJLGdCQUFBO0VBQ0EsV0FBQTtFQUNBLFlBQUE7RUFDQSxrQkFBQTtBQURSOztBQUlJO0VBQ0ksV0FBQTtFQUNBLGtCQUFBO0VBQ0EsZUFBQTtBQURSOztBQUlJO0VBQ0ksaUVBQUE7RUFDQSxnQkFBQTtFQUNBLGVBQUE7QUFEUjs7QUFJSTtFQUNJLGFBQUE7QUFEUjs7QUFFUTtFQUNJLG1CQUFBO0VBQ0EsbUJBQUE7RUFDQSxpQkFBQTtFQUNBLGtCQUFBO0VBQ0EsZ0JBQUE7QUFBWiIsImZpbGUiOiJob21lLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIiAgICAqIHtcclxuICAgICAgICBmb250LWZhbWlseTogbGF0bztcclxuICAgIH1cclxuICAgIFxyXG4gICAgaW9uLWNvbnRlbnQge1xyXG4gICAgICAgIC0tYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KCAxMzVkZWcsICM1MkU1RTcgMTAlLCAjMTMwQ0I3IDEwMCUpO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBALXdlYmtpdC1rZXlmcmFtZXMgc2xpZGUtaW4tYm90dG9tIHtcclxuICAgICAgICAwJSB7XHJcbiAgICAgICAgICAgIC13ZWJraXQtdHJhbnNmb3JtOiB0cmFuc2xhdGVZKDEwMDBweCk7XHJcbiAgICAgICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgxMDAwcHgpO1xyXG4gICAgICAgICAgICBvcGFjaXR5OiAwXHJcbiAgICAgICAgfVxyXG4gICAgICAgIDEwMCUge1xyXG4gICAgICAgICAgICAtd2Via2l0LXRyYW5zZm9ybTogdHJhbnNsYXRlWSgwKTtcclxuICAgICAgICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKDApO1xyXG4gICAgICAgICAgICBvcGFjaXR5OiAxXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgXHJcbiAgICBAa2V5ZnJhbWVzIHNsaWRlLWluLWJvdHRvbSB7XHJcbiAgICAgICAgMCUge1xyXG4gICAgICAgICAgICAtd2Via2l0LXRyYW5zZm9ybTogdHJhbnNsYXRlWSgxMDAwcHgpO1xyXG4gICAgICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoMTAwMHB4KTtcclxuICAgICAgICAgICAgb3BhY2l0eTogMFxyXG4gICAgICAgIH1cclxuICAgICAgICAxMDAlIHtcclxuICAgICAgICAgICAgLXdlYmtpdC10cmFuc2Zvcm06IHRyYW5zbGF0ZVkoMCk7XHJcbiAgICAgICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgwKTtcclxuICAgICAgICAgICAgb3BhY2l0eTogMVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIFxyXG4gICAgLmNvbnRhaW5lciB7XHJcbiAgICAgICAgLXdlYmtpdC1hbmltYXRpb246IHNsaWRlLWluLWJvdHRvbSAuNXMgY3ViaWMtYmV6aWVyKC4yNSwgLjQ2LCAuNDUsIC45NCkgYm90aDtcclxuICAgICAgICBhbmltYXRpb246IHNsaWRlLWluLWJvdHRvbSAuNXMgY3ViaWMtYmV6aWVyKC4yNSwgLjQ2LCAuNDUsIC45NCkgYm90aDtcclxuICAgICAgICBtaW4taGVpZ2h0OiAzMDBweDtcclxuICAgICAgICB3aWR0aDogMTAwJTtcclxuICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZTtcclxuICAgICAgICBib3R0b206IDA7XHJcbiAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgICAgIGJvcmRlci10b3AtbGVmdC1yYWRpdXM6IDIwcHg7XHJcbiAgICAgICAgYm9yZGVyLXRvcC1yaWdodC1yYWRpdXM6IDIwcHg7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC5pbWcxIHtcclxuICAgICAgICBtYXJnaW4tdG9wOiA4MHB4O1xyXG4gICAgICAgIHdpZHRoOiA4MHB4O1xyXG4gICAgICAgIGhlaWdodDogODBweDtcclxuICAgICAgICBib3JkZXItcmFkaXVzOiA1MCU7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIHAge1xyXG4gICAgICAgIGNvbG9yOiAjZmZmO1xyXG4gICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcclxuICAgICAgICBmb250LXNpemU6IDM1cHg7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIGlvbi1idXR0b24ge1xyXG4gICAgICAgIC0tYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KCAxMzVkZWcsICM1MkU1RTcgMTAlLCAjMTMwQ0I3IDEwMCUpO1xyXG4gICAgICAgIG1hcmdpbi10b3A6IDMwcHg7XHJcbiAgICAgICAgZm9udC1zaXplOiAxOHB4O1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICAuZm9ybSB7XHJcbiAgICAgICAgcGFkZGluZzogMTBweDtcclxuICAgICAgICBpb24taXRlbSB7XHJcbiAgICAgICAgICAgIGJvcmRlci1zdHlsZTogc29saWQ7XHJcbiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDEwcHg7XHJcbiAgICAgICAgICAgIGJvcmRlci13aWR0aDogMnB4O1xyXG4gICAgICAgICAgICBib3JkZXItY29sb3I6IGdyZXk7XHJcbiAgICAgICAgICAgIG1hcmdpbi10b3A6IDIwcHg7XHJcbiAgICAgICAgfVxyXG4gICAgfSJdfQ== */\";","import { Component, OnInit, Input, EventEmitter, Output } from '@angular/core';\r\nimport { ToastController } from '@ionic/angular';\r\nimport { FormGroup, FormBuilder, Validators } from \"@angular/forms\";\r\nimport { Router } from '@angular/router';\r\n\r\nimport { AppService } from '../app.service';\r\nimport { AuthProvider } from '../providers/auth';\r\n\r\n@Component({\r\n  selector: 'app-home',\r\n  templateUrl: 'home.page.html',\r\n  styleUrls: ['home.page.scss'],\r\n})\r\n\r\nexport class HomePage implements OnInit {\r\n  @Input('parentData') public name;\r\n  @Output() public childEvent = new EventEmitter();\r\n  loginForm: FormGroup;\r\n  submitted = false;\r\n  public errorMessages = {\r\n    password: [\r\n      { type: 'required', message: 'Name is required' },\r\n      // { type: 'maxlength', message: 'Name cant be longer than 100 characters' },\r\n      { type: 'pattern', message: 'Not Valid Email' }\r\n    ],\r\n    email: [\r\n      { type: 'required', message: 'Email is required' },\r\n      { type: 'minLength', message: 'Please enter a min 4 letter' }\r\n    ],\r\n    /* phone: [\r\n       { type: 'required', message: 'Phone number is required' },\r\n       { type: 'pattern', message: 'Please enter a valid phone number' }\r\n     ],\r\n     street: [\r\n       { type: 'required', message: 'Street name is required' },\r\n       {\r\n         type: 'maxlength',\r\n         message: 'Street name cant be longer than 100 characters'\r\n       }\r\n     ],\r\n     city: [\r\n       { type: 'required', message: 'City name is required' },\r\n       {\r\n         type: 'maxlength',\r\n         message: 'City name cant be longer than 100 characters'\r\n       }\r\n     ],\r\n     state: [\r\n       { type: 'required', message: 'State is required' },\r\n       {\r\n         type: 'maxlength',\r\n         message: 'State cant be longer than 100 characters'\r\n       }\r\n     ],\r\n     zip: [\r\n       { type: 'required', message: 'Zip code is required' },\r\n       {\r\n         type: 'pattern',\r\n         message: 'Please enter a valid zip code'\r\n       }\r\n     ] */\r\n  };\r\n  constructor(public formBuilder: FormBuilder, private auth: AuthProvider, private router: Router, public toastController: ToastController, public AppService: AppService) {\r\n    this.loginForm = this.formBuilder.group({\r\n      email: ['', [Validators.required]],\r\n      password: ['', [Validators.required, Validators.minLength(4)]],\r\n    })\r\n  }\r\n\r\n  async presentToast(message) {\r\n    const toast = await this.toastController.create({\r\n      message: message,\r\n      duration: 2000\r\n    });\r\n    toast.present();\r\n  }\r\n\r\n\r\n  /*  fireEvent() {\r\n     this.childEvent.emit('hai')\r\n   } */\r\n\r\n  ngOnInit() {\r\n    if (localStorage.getItem('token')) {\r\n      var uses = JSON.parse(localStorage.getItem('token'))\r\n      // this.childEvent.emit('hai')\r\n      console.log(uses.role);\r\n\r\n      this.AppService.stringSubject.next(uses.role)\r\n      if (uses.token) {\r\n        if (uses.role == 'admin') {\r\n          this.router.navigate(['/dashboard']);\r\n        } else {\r\n          this.router.navigate(['/orderform']);\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  get password() {\r\n    return this.loginForm.get(\"password\");\r\n  }\r\n  get email() {\r\n    return this.loginForm.get(\"email\");\r\n  }\r\n\r\n\r\n\r\n  submit() {\r\n    this.submitted = true;\r\n    if (!this.loginForm.valid) {\r\n      return false;\r\n    } else {\r\n      this.auth.login(this.loginForm.value).subscribe((response) => {\r\n        if (response && response.status == 1) {\r\n          // this.presentToast(response['status'])\r\n          this.AppService.stringSubject.next(response.response.role)\r\n          if (response.response.role == 'admin') {\r\n            this.router.navigate(['/dashboard']);\r\n          } else {\r\n            this.router.navigate(['/orders']);\r\n          }\r\n        } else {\r\n          this.presentToast('invalid details')\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  gotoHome() {\r\n    this.router.navigate(['/createaccount']);  // define your component where you want to go\r\n  }\r\n}"]}