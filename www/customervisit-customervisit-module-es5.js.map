{"version":3,"sources":["webpack:///src/app/pages/customervisit/customervisit-routing.module.ts","webpack:///src/app/pages/customervisit/customervisit.module.ts","webpack:///src/app/pages/customervisit/customervisit.page.scss","webpack:///src/app/pages/customervisit/customervisit.page.html","webpack:///src/app/pages/customervisit/customervisit.page.ts"],"names":["routes","path","component","CustomervisitPageRoutingModule","imports","forChild","exports","CustomervisitPageModule","declarations","CustomervisitPage","formBuilder","auth","router","toastController","submitted","user_home","JSON","parse","localStorage","getItem","role","getuser","group","date","required","message","create","duration","toast","present","valid","presentToast","customerVisit","value","subscribe","res","status","data","response","documentData","length","userList","selector","template"],"mappings":"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","file":"customervisit-customervisit-module-es5.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { CustomervisitPage } from './customervisit.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: CustomervisitPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class CustomervisitPageRoutingModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\n\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { CustomervisitPageRoutingModule } from './customervisit-routing.module';\r\n\r\nimport { CustomervisitPage } from './customervisit.page';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule, ReactiveFormsModule,\r\n    IonicModule,\r\n    CustomervisitPageRoutingModule\r\n  ],\r\n  declarations: [CustomervisitPage]\r\n})\r\nexport class CustomervisitPageModule { }\r\n","export default \"ion-toolbar {\\n  height: 75px;\\n  --background: linear-gradient( 135deg, #52E5E7 10%, #130CB7 100%);\\n}\\n\\nion-menu-button {\\n  color: #fff;\\n  font-size: 28px;\\n  margin-top: 12px;\\n}\\n\\nion-title {\\n  font-size: 28px;\\n  margin-top: 12px;\\n  text-align: center;\\n  margin-left: 15px;\\n  color: #fff;\\n}\\n\\nion-icon {\\n  color: #fff;\\n  font-size: 28px;\\n  margin-top: 12px;\\n  margin-left: 12px;\\n}\\n\\nion-item {\\n  border: 1px solid grey;\\n  font-size: 16px;\\n  margin: 30px 40px;\\n  color: #000;\\n}\\n\\nion-item.item-has-focus > ion-label {\\n  color: #000 !important;\\n}\\n\\nion-button {\\n  margin-top: 20px;\\n  width: 30%;\\n  color: #000;\\n  --background: #52E5E7;\\n}\\n\\nh2 {\\n  margin-top: 50px;\\n}\\n\\n.form {\\n  margin-top: 35%;\\n}\\n\\n.tablename {\\n  border-collapse: collapse;\\n  border-spacing: 0;\\n  border: 1px solid #ddd;\\n  background: #dcdcdc;\\n  margin-left: 10px;\\n  margin-right: 10px;\\n}\\n\\nth {\\n  text-align: left;\\n  padding: 10px 10px;\\n  white-space: nowrap;\\n  font-size: 15px;\\n}\\n\\ntd {\\n  text-align: center;\\n  padding: 10px 10px;\\n}\\n\\ntr:nth-child(even) {\\n  background-color: #f2f2f2;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uXFwuLlxcLi5cXC4uXFxjdXN0b21lcnZpc2l0LnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLFlBQUE7RUFDQSxpRUFBQTtBQUNKOztBQUVBO0VBQ0ksV0FBQTtFQUNBLGVBQUE7RUFDQSxnQkFBQTtBQUNKOztBQUVBO0VBQ0ksZUFBQTtFQUNBLGdCQUFBO0VBQ0Esa0JBQUE7RUFDQSxpQkFBQTtFQUNBLFdBQUE7QUFDSjs7QUFFQTtFQUNJLFdBQUE7RUFDQSxlQUFBO0VBQ0EsZ0JBQUE7RUFDQSxpQkFBQTtBQUNKOztBQUVBO0VBQ0ksc0JBQUE7RUFDQSxlQUFBO0VBQ0EsaUJBQUE7RUFDQSxXQUFBO0FBQ0o7O0FBRUE7RUFDSSxzQkFBQTtBQUNKOztBQUVBO0VBQ0ksZ0JBQUE7RUFDQSxVQUFBO0VBQ0EsV0FBQTtFQUNBLHFCQUFBO0FBQ0o7O0FBR0E7RUFDSSxnQkFBQTtBQUFKOztBQUdBO0VBQ0ksZUFBQTtBQUFKOztBQUtBO0VBQ0kseUJBQUE7RUFDQSxpQkFBQTtFQUNBLHNCQUFBO0VBQ0EsbUJBQUE7RUFDQSxpQkFBQTtFQUNBLGtCQUFBO0FBRko7O0FBS0E7RUFDSSxnQkFBQTtFQUNBLGtCQUFBO0VBQ0EsbUJBQUE7RUFDQSxlQUFBO0FBRko7O0FBS0E7RUFDSSxrQkFBQTtFQUNBLGtCQUFBO0FBRko7O0FBS0E7RUFDSSx5QkFBQTtBQUZKIiwiZmlsZSI6ImN1c3RvbWVydmlzaXQucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiaW9uLXRvb2xiYXIge1xyXG4gICAgaGVpZ2h0OiA3NXB4O1xyXG4gICAgLS1iYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoIDEzNWRlZywgIzUyRTVFNyAxMCUsICMxMzBDQjcgMTAwJSk7XHJcbn1cclxuXHJcbmlvbi1tZW51LWJ1dHRvbiB7XHJcbiAgICBjb2xvcjogI2ZmZjtcclxuICAgIGZvbnQtc2l6ZTogMjhweDtcclxuICAgIG1hcmdpbi10b3A6IDEycHg7XHJcbn1cclxuXHJcbmlvbi10aXRsZSB7XHJcbiAgICBmb250LXNpemU6IDI4cHg7XHJcbiAgICBtYXJnaW4tdG9wOiAxMnB4O1xyXG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gICAgbWFyZ2luLWxlZnQ6IDE1cHg7XHJcbiAgICBjb2xvcjogI2ZmZjtcclxufVxyXG5cclxuaW9uLWljb24ge1xyXG4gICAgY29sb3I6ICNmZmY7XHJcbiAgICBmb250LXNpemU6IDI4cHg7XHJcbiAgICBtYXJnaW4tdG9wOiAxMnB4O1xyXG4gICAgbWFyZ2luLWxlZnQ6IDEycHg7XHJcbn1cclxuXHJcbmlvbi1pdGVtIHtcclxuICAgIGJvcmRlcjogMXB4IHNvbGlkIGdyZXk7XHJcbiAgICBmb250LXNpemU6IDE2cHg7XHJcbiAgICBtYXJnaW46IDMwcHggNDBweDtcclxuICAgIGNvbG9yOiAjMDAwO1xyXG59XHJcblxyXG5pb24taXRlbS5pdGVtLWhhcy1mb2N1cz5pb24tbGFiZWwge1xyXG4gICAgY29sb3I6ICMwMDAgIWltcG9ydGFudDtcclxufVxyXG5cclxuaW9uLWJ1dHRvbiB7XHJcbiAgICBtYXJnaW4tdG9wOiAyMHB4O1xyXG4gICAgd2lkdGg6IDMwJTtcclxuICAgIGNvbG9yOiAjMDAwO1xyXG4gICAgLS1iYWNrZ3JvdW5kOiAjNTJFNUU3O1xyXG59XHJcblxyXG4vLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLy9cclxuaDIge1xyXG4gICAgbWFyZ2luLXRvcDogNTBweDtcclxufVxyXG5cclxuLmZvcm0ge1xyXG4gICAgbWFyZ2luLXRvcDogMzUlO1xyXG59XHJcblxyXG5cclxuXHJcbi50YWJsZW5hbWUge1xyXG4gICAgYm9yZGVyLWNvbGxhcHNlOiBjb2xsYXBzZTtcclxuICAgIGJvcmRlci1zcGFjaW5nOiAwO1xyXG4gICAgYm9yZGVyOiAxcHggc29saWQgI2RkZDtcclxuICAgIGJhY2tncm91bmQ6ICNkY2RjZGM7XHJcbiAgICBtYXJnaW4tbGVmdDogMTBweDtcclxuICAgIG1hcmdpbi1yaWdodDogMTBweDtcclxufVxyXG5cclxudGgge1xyXG4gICAgdGV4dC1hbGlnbjogbGVmdDtcclxuICAgIHBhZGRpbmc6IDEwcHggMTBweDtcclxuICAgIHdoaXRlLXNwYWNlOiBub3dyYXA7XHJcbiAgICBmb250LXNpemU6IDE1cHg7XHJcbn1cclxuXHJcbnRkIHtcclxuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcclxuICAgIHBhZGRpbmc6IDEwcHggMTBweDtcclxufVxyXG5cclxudHI6bnRoLWNoaWxkKGV2ZW4pIHtcclxuICAgIGJhY2tncm91bmQtY29sb3I6ICNmMmYyZjI7XHJcbn0iXX0= */\";","export default \"<ion-toolbar>\\r\\n\\r\\n    <ion-title>Blue Vision</ion-title>\\r\\n    <ion-buttons slot=\\\"end\\\">\\r\\n        <ion-menu-button></ion-menu-button>\\r\\n    </ion-buttons>\\r\\n    <ion-icon slot=\\\"start\\\" routerLink=\\\"{{user_home}}\\\" name=\\\"home\\\"></ion-icon>\\r\\n</ion-toolbar>\\r\\n<ion-content>\\r\\n    <div>\\r\\n        <h2 class=\\\"ion-text-center\\\">Customer Visit</h2>\\r\\n    </div>\\r\\n    <form [formGroup]=\\\"getuser\\\" (ngSubmit)=\\\"submit()\\\">\\r\\n        <div class=\\\"orders\\\"></div>\\r\\n        <div class=\\\"form ion-text-center\\\">\\r\\n            <ion-item lines='none'>\\r\\n                <ion-label position=\\\"floating\\\"> Date</ion-label>\\r\\n                <ion-datetime formControlName=\\\"date\\\" required></ion-datetime>\\r\\n            </ion-item>\\r\\n            <ion-button class=\\\"cancelbtn\\\" type=\\\"submit\\\" size=\\\"medium\\\">Submit</ion-button>\\r\\n        </div>\\r\\n\\r\\n\\r\\n        <div class=\\\"tablename\\\" style=\\\"overflow-x:auto;\\\" *ngIf=\\\"userList\\\">\\r\\n            <table>\\r\\n                <tr>\\r\\n                    <th class=\\\"order\\\">Customer Name</th>\\r\\n                    <th class=\\\"order\\\">Phone</th>\\r\\n                    <th class=\\\"order\\\">Visting Date</th>\\r\\n                    <th class=\\\"order\\\">Last Purchase Date</th>\\r\\n                </tr>\\r\\n\\r\\n                <tr *ngFor=\\\"let users of userList\\\">\\r\\n                    <td>{{users.customer_name}}</td>\\r\\n                    <td>{{users.customer_phone}}</td>\\r\\n                    <td>{{users.created | date:'fullDate'}}</td>\\r\\n                    <td>{{users.next_visit | date:'fullDate'}}</td>\\r\\n                </tr>\\r\\n            </table>\\r\\n        </div>\\r\\n\\r\\n\\r\\n    </form>\\r\\n</ion-content>\";","import { Component, OnInit } from '@angular/core';\r\nimport { ToastController } from '@ionic/angular';\r\nimport { FormGroup, FormBuilder, Validators } from \"@angular/forms\";\r\nimport { Router } from '@angular/router';\r\nimport { PageService } from '../pages.service';\r\n@Component({\r\n  selector: 'app-customervisit',\r\n  templateUrl: './customervisit.page.html',\r\n  styleUrls: ['./customervisit.page.scss'],\r\n})\r\nexport class CustomervisitPage implements OnInit {\r\n  getuser: FormGroup;\r\n  submitted = false;\r\n  userList: any;\r\n  user_home = (JSON.parse(localStorage.getItem('token')) && JSON.parse(localStorage.getItem('token')).role == 'admin') ? '/dashboard' : '/orders';\r\n  constructor(public formBuilder: FormBuilder, private auth: PageService, private router: Router, public toastController: ToastController) {\r\n    this.getuser = this.formBuilder.group({\r\n      date: ['', [Validators.required]],\r\n\r\n    })\r\n  }\r\n  async presentToast(message) {\r\n    const toast = await this.toastController.create({\r\n      message: message,\r\n      duration: 2000\r\n    });\r\n    toast.present();\r\n  }\r\n\r\n  ngOnInit() {\r\n    /* this.auth.customerVisit({ date: \"2021-08-08T02:37:36.836+05:30\" }).subscribe((res) => {\r\n      if (res.status != 0) {\r\n        this.userList = res.response[0].documentData;\r\n       \r\n\r\n      } else {\r\n        this.presentToast('No Record')\r\n      }\r\n    }) */\r\n  }\r\n\r\n\r\n  submit() {\r\n    this.submitted = true;\r\n    if (!this.getuser.valid) {\r\n      this.presentToast('Date Required')\r\n      return false;\r\n    } else {\r\n      this.auth.customerVisit(this.getuser.value).subscribe((res) => {\r\n\r\n        if (res.status != 0) {\r\n          let data = res.response[0] ? res.response[0].documentData : [];\r\n          if (data.length > 0) {\r\n            this.userList = data;\r\n          } else {\r\n            this.presentToast('No Record')\r\n          }\r\n        } else {\r\n          this.presentToast('No Record')\r\n        }\r\n      })\r\n    }\r\n  }\r\n}\r\n"]}